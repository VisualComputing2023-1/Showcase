<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Solar system implementation # Exercise
Implement a 3D modelisation of the Sun-Earth-Moon system. Introduction # The phenomenons occuring on our Earth (seasons, day/nights, tides, &mldr;) are phenomenons caused by events occuring in the outer space, more specifically in the Sun-Earth-Moon system. In that sense, to understand them, we must study those external events. However, they can be pretty complex to accept, since they are occuring on a different scale. It is then interesting to build a 3D model of the Sun-Earth-Moon system, with teaching ends, to understand the events at a global scale."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Solar system implementation # Exercise
Implement a 3D modelisation of the Sun-Earth-Moon system. Introduction # The phenomenons occuring on our Earth (seasons, day/nights, tides, &mldr;) are phenomenons caused by events occuring in the outer space, more specifically in the Sun-Earth-Moon system. In that sense, to understand them, we must study those external events. However, they can be pretty complex to accept, since they are occuring on a different scale. It is then interesting to build a 3D model of the Sun-Earth-Moon system, with teaching ends, to understand the events at a global scale."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing2023-1.github.io/Showcase/docs/solar_system/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T23:33:01-05:00"><title>Solar System | Visual Computing 2023-1</title><link rel=manifest href=/Showcase/manifest.json><link rel=icon href=/Showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/Showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/Showcase/flexsearch.min.js></script>
<script defer src=/Showcase/en.search.min.7cec9b0a1075c58a0c46780d1b5a27630bd03282c9eb859d249bcc11ec8e7b22.js integrity="sha256-fOybChB1xYoMRngNG1onYwvQMoLJ64WdJJvMEeyOeyI=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/Showcase/><span>Visual Computing 2023-1</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/Showcase/docs/Color-blending/>Color Blending</a></li><li><a href=/Showcase/docs/Color-mapping/>Color Mapping</a></li><li><a href=/Showcase/docs/Color-models/>Color Models</a></li><li><a href=/Showcase/docs/Depth-Perception/>Depth Perception</a></li><li><a href=/Showcase/docs/procedural-texturing/>Procedural Texturing</a></li><li><a href=/Showcase/docs/Second-delivery/Photomosaic/Photomosaic/>Photomosaic</a></li><li><a href=/Showcase/docs/solar_system/ class=active>Solar System</a></li><li><a href=/Showcase/docs/Terrain-generation/>Terrain Generation</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/Showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Solar System</strong>
<label for=toc-control><img src=/Showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#solar-system-implementation>Solar system implementation</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#theoretical-notions>Theoretical notions</a><ul><li><a href=#earths-movements>Earth&rsquo;s movements</a></li><li><a href=#moons-revolution-around-the-earth>Moon&rsquo;s revolution around the Earth</a></li></ul></li><li><a href=#implementation>Implementation</a><ul><li><a href=#application>Application</a></li><li><a href=#code>Code</a></li></ul></li><li><a href=#explication-of-the-solution>Explication of the solution</a><ul><li><a href=#declaration-of-attributes>Declaration of attributes</a></li><li><a href=#declaration-of-textures>Declaration of textures</a></li><li><a href=#sun-object>Sun Object</a></li><li><a href=#earth-object-and-trajectory>Earth object and trajectory</a></li><li><a href=#moon-object-and-trajectory>Moon object and trajectory</a></li><li><a href=#light-gestion>Light gestion</a></li><li><a href=#information-displaying>Information displaying</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#future-work>Future Work</a><ul><li><a href=#correction-of-physics-incoherences>Correction of physics incoherences</a></li><li><a href=#addition-of-functionalities>Addition of functionalities</a></li></ul></li><li><a href=#references>References</a><ul><li><a href=#earths-movement>Earth&rsquo;s movement</a></li><li><a href=#moons-movement>Moon&rsquo;s movement</a></li><li><a href=#p5-documentation>p5 Documentation</a></li><li><a href=#class>Class</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=solar-system-implementation>Solar system implementation
<a class=anchor href=#solar-system-implementation>#</a></h1><blockquote class="book-hint info"><strong>Exercise</strong><br>Implement a 3D modelisation of the Sun-Earth-Moon system.</blockquote><h2 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h2><p>The phenomenons occuring on our Earth (seasons, day/nights, tides, &mldr;) are phenomenons caused by events occuring in the outer space, more specifically in the Sun-Earth-Moon system. In that sense, to understand them, we must study those external events. However, they can be pretty complex to accept, since they are occuring on a different scale. It is then interesting to build a 3D model of the Sun-Earth-Moon system, with teaching ends, to understand the events at a global scale.</p><p>In this exercise, we will then try to implement Earth&rsquo;s different movements around the Sun.</p><blockquote class="book-hint warning"><strong>Scaling changes</strong><br>It is to note that the scales are not realistic. They have voluntarily been changed (size of the objects, distances, speeds), to be able to view better the model.</blockquote><h2 id=theoretical-notions>Theoretical notions
<a class=anchor href=#theoretical-notions>#</a></h2><p>As we want to build a model representing laws of physics, it is best to study the different theoretical notions before beginning to modelize the system.</p><h3 id=earths-movements>Earth&rsquo;s movements
<a class=anchor href=#earths-movements>#</a></h3><p>The Earth, in the physical world, has four different movements :</p><ul><li>rotation,</li><li>translation,</li><li>precession,</li><li>nutation.</li></ul><img src=./../movements.jpg width=60% height=60% style=display:block;float:none;align:center><div class=book-tabs><input type=radio class=toggle name=tabs-movement id=tabs-movement-0 checked>
<label for=tabs-movement-0>Rotation</label><div class="book-tabs-content markdown-inner">It is a movement that the Earth does on itself. It rotates with respect to the Y axis, and that is the cause of the daily cycle. Indeed, when some place on the Earth&rsquo;s surface is facing the Sun, it is the day, and when it rotates until not facing the Sun, it comes at night. A full turn is made in 23 hours, 56 minutes and 4 seconds.</p><img src=./../rotation.jpg style=display:block;float:none;align:center></div><input type=radio class=toggle name=tabs-movement id=tabs-movement-1>
<label for=tabs-movement-1>Translation</label><div class="book-tabs-content markdown-inner">The translating movement is done around the Sun, in an elliptic way. Combined with the inclination of the Earth, it is the cause of the seasons (the moment in which the Earth is closer to the Sun corresponds to the hotter seasons). A full revolution around the Sun is made in 365 days, 5 hours, 48 minutes and 45 seconds.</p><img src=./../translation.jpg style=display:block;float:none;align:center></div><input type=radio class=toggle name=tabs-movement id=tabs-movement-2>
<label for=tabs-movement-2>Precession</label><div class="book-tabs-content markdown-inner">It corresponds to the gradual change our planet has in the orientation of its axis of rotation (that is here considered as the Y axis in the geocentric referential). This axis has currently an inclination of 23,43°. A complete turn turn in the precession axis takes about 25 700 years.</p><img src=./../precession.jpg style=display:block;float:none;align:center></div><input type=radio class=toggle name=tabs-movement id=tabs-movement-3>
<label for=tabs-movement-3>Nutation</label><div class="book-tabs-content markdown-inner">This is a slight and irregular movement. It takes place on the axis of rotation of the Earth (Y axis). It is caused by the force exerted by Earth&rsquo;s gravity and the attraction between the planet, the Moon and the Sun.</p><img src=./../nutation.jpg style=display:block;float:none;align:center></div></div><p>In practical, Earth has an inclination of about 23.4°, which is the cause of the seasons. It is always inclined in the same way (in the heliocentric referential). However, in this model, we could not implement this constant inclination. It is because it would require us to apply a new movement to the Earth already inclined, that could compensate its precession.</p><h3 id=moons-revolution-around-the-earth>Moon&rsquo;s revolution around the Earth
<a class=anchor href=#moons-revolution-around-the-earth>#</a></h3><p>The Moon effectuates a complete revolution around the Earth in 27.3 days. One particularity about it is that, from Earth, it seems like it doesn&rsquo;t rotate, because we always see the same side of the Moon. However, that is not true. It is only due to the fact that the Moon&rsquo;s rotation on itself (along its rotation axis) <strong>compensates</strong> its rotation around the Earth. The distance of the Moon to Earth varies with time : it goes from 356,500 km at the perigee to 406,700 km at apogee.</p><h2 id=implementation>Implementation
<a class=anchor href=#implementation>#</a></h2><h3 id=application>Application
<a class=anchor href=#application>#</a></h3><iframe height=650 width=610 src=https://editor.p5js.org/Fafnir/full/khR8vEz6g></iframe><h3 id=code>Code
<a class=anchor href=#code>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textEarth</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textMoon</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textSun</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textAxis</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayTraj</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayEarthAxis</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayEarthInfo</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayMoonInfo</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displaySunInfo</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>earthRotationSpeed</span>, <span style=color:#a6e22e>moonRotationSpeed</span>, <span style=color:#a6e22e>sunRotationSpeed</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>, <span style=color:#a6e22e>moonRevolutionSpeed</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sunRadius</span>, <span style=color:#a6e22e>earthRadius</span>, <span style=color:#a6e22e>moonRadius</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>easyCam</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>arialFont</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textEarth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/earth_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textMoon</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/moon_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSun</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/sun_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textAxis</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/red.png&#34;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>arialFont</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadFont</span>(<span style=color:#e6db74>&#34;assets/fonts/ArialTh.ttf&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>600</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textFont</span>(<span style=color:#a6e22e>arialFont</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show trajectories&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayTrajEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth axis&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthAxisEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.03</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.03</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sunRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.04</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRevolutionSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.01</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRevolutionSpeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>moonRotationSpeed</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sunRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createEasyCam</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayInformation</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawSun</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>earthTrajectory</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>sunRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>200</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#ae81ff>0.4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawEarth</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawEarthAxis</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>moonTrajectory</span>();    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>moonRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>moonRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>moonRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawMoon</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawSun</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sunRotationSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textSun</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>sunRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawEarth</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRotationSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textEarth</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>earthRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawEarthAxis</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textAxis</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>earthRadius</span><span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawMoon</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textMoon</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>moonRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>earthTrajectory</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>torus</span>(<span style=color:#a6e22e>sunRadius</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>210</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moonTrajectory</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>emissiveMaterial</span>(<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>torus</span>(<span style=color:#a6e22e>moonRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayTrajEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Displaying trajectories&#39;</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Erasing trajectories&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayEarthAxisEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Displaying Earth axis&#39;</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Erasing Earth axis&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayEarthInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displaySunInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayMoonInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayInformation</span>(){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>earthInfo</span>();
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>moonInfo</span>();
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sunInfo</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moonInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;The Moon&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : from 1,100 to 0,966 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 1 737.4 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution period : 27.3217 days&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Average distance to Earth : 150 million km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>540</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>earthInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Earth&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : 0,4 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 6 371 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution speed : 30 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution period : 365 days, 5 h 48 min 45 s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>540</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sunInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;The Sun&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : 1,997 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 696 340 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Average distance to Earth : 150 million km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=explication-of-the-solution>Explication of the solution
<a class=anchor href=#explication-of-the-solution>#</a></h2><h3 id=declaration-of-attributes>Declaration of attributes
<a class=anchor href=#declaration-of-attributes>#</a></h3><p>For this exercise, we will need multiple attributes which will help us to define the physics model. In that sense, we define the radius and rotation speed of the different objects of our model. We also define a revolution speed for both the Earth object and the Moon one.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>earthRotationSpeed</span>, <span style=color:#a6e22e>moonRotationSpeed</span>, <span style=color:#a6e22e>sunRotationSpeed</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>, <span style=color:#a6e22e>moonRevolutionSpeed</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sunRadius</span>, <span style=color:#a6e22e>earthRadius</span>, <span style=color:#a6e22e>moonRadius</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.02</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.03</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sunRotationSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.004</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRevolutionSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.01</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRevolutionSpeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>moonRotationSpeed</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sunRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>earthRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moonRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=declaration-of-textures>Declaration of textures
<a class=anchor href=#declaration-of-textures>#</a></h3><p>For this model, we will use four different textures : for the Sun, Earth, the Moon, and the background.</p><p>The first three ones are defined in the javascript code, because they will be applied to unic objects.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textEarth</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textMoon</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>textSun</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textEarth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/earth_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textMoon</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/moon_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSun</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;assets/sun_text.jpg&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The last one, to not complicate the application, will be defined as a background of the canvas in the CSS file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>canvas</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>block</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-image</span>:url(<span style=color:#e6db74>&#34;assets/space.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background-size</span>: <span style=color:#66d9ef>contain</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=sun-object>Sun Object
<a class=anchor href=#sun-object>#</a></h3><p>In the real world, the Sun isn&rsquo;t static in the space. However, in this model, we chose to make it the center of the system. This is why it only has a rotating movement, whose speed is defined by the variable sunRotationSpeed.</p><p>Since it is the central object, it is the first object to be defined in the transformation tree. Having a rotation along the vertical axis, we first define a global rotation movement around the Y-axis. We then draw the Sun object, by defining a sphere with the radius previously defined, and having a sun texture.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawSun</span>();
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawSun</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sunRotationSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textSun</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>sunRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=earth-object-and-trajectory>Earth object and trajectory
<a class=anchor href=#earth-object-and-trajectory>#</a></h3><p>It is important to note that in the current model, the trajectory of the Earth object isn&rsquo;t realistic. In the real world, it would be an ellipse around the Sun.</p><p>In that model, we defined that trajectory as a circle, having as a center the Sun object. Its displaying is optional, thanks to a checkbox, and occurs just after the Sun was added in the transformation tree. When displayed, it creates a white torus.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayTraj</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show trajectories&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayTrajEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>earthTrajectory</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>earthTrajectory</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>torus</span>(<span style=color:#a6e22e>sunRadius</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>210</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then, comes the drawing of Earth, and the modelisation of its movement. The first step is to create the translation movement, by adding in the transformation tree a rotating movement along the Y axis, that will use the earthRevolutionSpeed variable defined earlier. Then, we place the center of the referential at a certain distance of the initial one, by using a translation equal to earthRadius+sunRadius+largeDistance.</p><p>Let&rsquo;s not that, as said in the theoretical notions, Earth&rsquo;s rotation axis has an inclination of about 23° when comparing it to the Sun&rsquo;s one. It is really important to show that in the model if we want to be able to show the seasons. In that sense, the solution is to create a new node in the transformation tree. We then cancel the Earth&rsquo;s rotation, by applying to it a rotation along the Y axis being the exact opposite to the first one. It allows us to have a referential that will not be turning constantly. Then, we apply a constant rotation along the X-axis. It is of 0.4 radians, an approximation of the 23.4° corresponding to the normal inclination. The new Earth object, that we will draw afterwards, is then inclined.</p><p>Afterwards, we can finally display the Earth object thanks to the drawEarth() method. In that function, we define the second most important movement of the Earth, its rotation.</p><p>Finally, an option is to display Earth&rsquo;s axis in order to visualize better that inclination. That option can be activated of not thanks to a checkbox.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayEarthAxis</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth axis&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthAxisEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>sunRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>200</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#ae81ff>0.4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawEarth</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayEarthAxis</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawEarthAxis</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawEarth</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRotationSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textEarth</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>earthRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawEarthAxis</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textAxis</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>earthRadius</span><span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In that model, we did not modelize the precession and nutation of the Earth. The first one has a revolution period too large. The second one is so little that it was complex to modelize it in a realistic way.</p><h3 id=moon-object-and-trajectory>Moon object and trajectory
<a class=anchor href=#moon-object-and-trajectory>#</a></h3><p>It is important to note that in the current model, the trajectory of the Moon object isn&rsquo;t realistic. In the real world, it would be an ellipse around Earth, with a varying altitude.</p><p>In that model, we defined that trajectory as a circle, having as a center the Earth object. Its displaying is optional, thanks to a checkbox, and occurs after Earth&rsquo;s addition in the transformation tree. When displayed, it creates a white torus.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayTraj</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show trajectories&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayTrajEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayTraj</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>moonTrajectory</span>();    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moonTrajectory</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>emissiveMaterial</span>(<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>torus</span>(<span style=color:#a6e22e>moonRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>A particularity of the Moon is that the same side of it is constantly visible from the Earth&rsquo;s surface. We then have to &ldquo;cancel&rdquo; its rotation visible from Earth, by applying to its rotation speed the exact opposite of its revolution speed. We then first define a certain rotation along the Y axis, before appkying a translation so that the Moon object doesn&rsquo;t have the same center as the Earth one. We create a new node in the transformation tree, and then reverse the previous rotation movement.</p><p>Afterwards, we can draw the Moon object, a sphere, and apply it a Moon texture.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>moonRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>moonRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span><span style=color:#f92672>+</span><span style=color:#a6e22e>earthRadius</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>moonRevolutionSpeed</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawMoon</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawMoon</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>textMoon</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#a6e22e>moonRadius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=light-gestion>Light gestion
<a class=anchor href=#light-gestion>#</a></h3><p>Since it is not possible to define a textured object as a source of light, the choice was mad to implement the light in the transformation tree. It is defined after adding the Sun : we do a simple translation equal to the Sun radius+10, so that the new referential origin is out of the Sun object. It will rotate along with the Earth object. Then, we define a light having as a direction the X-axis.</p><p>The original idea was to define a directional light, because, as the Sun is way bigger than Earth, it acts like a directional light on the planet. However, in the p5 model, it was not possible to define the source like that.</p><p>A single point light couldn&rsquo;t work either, because the Earth&rsquo;s surface lightened by it would be too small.</p><p>The solution encountered was then to define two point lights, at four different points of the Sun&rsquo;s surface, so that the light would be more diffuse.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>earthRotationSpeed</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>sunRadius</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>);
</span></span></code></pre></div><p>However, this model comes along with a certain problem : since there are multiple light sources, it creates a problem with shadows. It is one of the causes of the impossibility to see Moon eclipses when it is between the sun and the Earth.</p><h3 id=information-displaying>Information displaying
<a class=anchor href=#information-displaying>#</a></h3><p>In order to make the model a learning one for people, we thought of a feature that would be to display information about the different objects wehn asking for it.</p><p>To do that, we implement three checkboxes that will allow us to respectively display information about Earth, the Sun and the Moon. One particularity of those checkboxes is that only one can be checked at a time. So, when checking a checkbox, we destroy the other two and initialize them again.</p><p>To display information on a 2D canvas, we will use the beginHUD() and endHUD() methods of the easyCam library, which we import in the index.html file as following.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;module&#34;</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://freshfork.github.io/p5.EasyCam/p5.easycam.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span></code></pre></div><p>Then, in the javascript file, we define an easyCam object. As a matter of fact, this object will also allow us to get a navigable 3D model. The methods beginHUD() and endHUD() will be applied on that same object. Within them, the developper can define multiple text objects, in order to write information on the screen.</p><p>The code parts for information displaying are the following ones :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayEarthInfo</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displayMoonInfo</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>displaySunInfo</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>easyCam</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>arialFont</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>arialFont</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadFont</span>(<span style=color:#e6db74>&#34;assets/fonts/ArialTh.ttf&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textFont</span>(<span style=color:#a6e22e>arialFont</span>);
</span></span><span style=display:flex><span>  ...  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createEasyCam</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayInformation</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayEarthInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displaySunInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Moon information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayMoonInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayMoonInfoEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Sun information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displaySunInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>remove</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Show Earth information&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>displayEarthInfoEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayInformation</span>(){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>displayEarthInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>earthInfo</span>();
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displayMoonInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>moonInfo</span>();
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>displaySunInfo</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sunInfo</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moonInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;The Moon&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : from 1,100 to 0,966 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 1 737.4 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution period : 27.3217 days&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Average distance to Earth : 150 million km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>540</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>earthInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Earth&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : 0,4 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 6 371 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution speed : 30 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Revolution period : 365 days, 5 h 48 min 45 s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>540</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sunInfo</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;The Sun&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>450</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Rotation speed : 1,997 km/s&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Radius : 696 340 km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Average distance to Earth : 150 million km&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>easycam</span>.<span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=conclusion>Conclusion
<a class=anchor href=#conclusion>#</a></h2><p>That work was really interesting to make, because it allowed us to understand the complexity of physics representation in 3D. That model is far from perfect, but permitted us to get familiar with the basis of transformation trees in WEBGL.</p><h2 id=future-work>Future Work
<a class=anchor href=#future-work>#</a></h2><h3 id=correction-of-physics-incoherences>Correction of physics incoherences
<a class=anchor href=#correction-of-physics-incoherences>#</a></h3><p>For the future of this exercise, it will be important to deal with the physics problems of the model :</p><ul><li>periods of time : it wille be necessary to have time scales a bit more realistic,</li><li>light source : it is important to have a directional light source, so that the model gets enlightened in the proper way,</li><li>revolution of objects : the revolution of the Earth around the Sun, and of the Moon around the Earth are not realistic. Indeed, in the real world, their trajectories are elliptical, and the object&rsquo;s &ldquo;altitude&rdquo; (although it can&rsquo;t really be defined as that in space) vary.</li></ul><h3 id=addition-of-functionalities>Addition of functionalities
<a class=anchor href=#addition-of-functionalities>#</a></h3><p>Some functionalities could not be added to the model, due to time and lots of problems encountered along the way. But, an interesting functionality to add would be to display the informations we already have when clicking on an object.</p><p>Finally, the most interesting functionality would be to make it a physics model. A true representation of physics (using Earth&rsquo;s gravity, the Sun&rsquo;s one, &mldr;) would be a challenge to implement, but also a great improvement of the application.</p><h2 id=references>References
<a class=anchor href=#references>#</a></h2><h3 id=earths-movement>Earth&rsquo;s movement
<a class=anchor href=#earths-movement>#</a></h3><p><strong>Earth movements: rotation, translation, precession and nutation</strong>, German Portillo, <a href=https://www.meteorologiaenred.com/en/earth-movements.html>https://www.meteorologiaenred.com/en/earth-movements.html</a></p><p><strong>Earth Rotation: The Day-Night Boundary</strong>, EarthHow, <a href=https://earthhow.com/earth-rotation-day-night-boundary/>https://earthhow.com/earth-rotation-day-night-boundary/</a></p><p><strong>Precession</strong>, space.fm, <a href=https://www.space.fm/astronomy/planetarysystems/precession.html>https://www.space.fm/astronomy/planetarysystems/precession.html</a></p><p><strong>Earth&rsquo;s nutations</strong>, Mathieu Dumberry, <a href=https://sites.ualberta.ca/~dumberry/nutation.html>https://sites.ualberta.ca/~dumberry/nutation.html</a></p><h3 id=moons-movement>Moon&rsquo;s movement
<a class=anchor href=#moons-movement>#</a></h3><p><strong>Moon in motion</strong>, NASA, <a href=https://moon.nasa.gov/moon-in-motion/phases-eclipses-supermoons/overview/>https://moon.nasa.gov/moon-in-motion/phases-eclipses-supermoons/overview/</a></p><p><strong>Lunar distance</strong>, Wikipedia, <a href=https://en.wikipedia.org/wiki/Lunar_distance_%28astronomy%29>https://en.wikipedia.org/wiki/Lunar_distance_(astronomy)</a></p><h3 id=p5-documentation>p5 Documentation
<a class=anchor href=#p5-documentation>#</a></h3><p><strong>Directional Light</strong>, p5 documentation, <a href=https://p5js.org/reference/#/p5/directionalLight>https://p5js.org/reference/#/p5/directionalLight</a></p><p><strong>Point Light</strong>, p5 documentation, <a href=https://p5js.org/reference/#/p5/pointLight>https://p5js.org/reference/#/p5/pointLight</a></p><p><strong>Styling and Appearance</strong>, p5 documentation, <a href=https://p5js.org/es/learn/getting-started-in-webgl-appearance.html>https://p5js.org/es/learn/getting-started-in-webgl-appearance.html</a></p><p><strong>Coordinates and Transformation</strong>, p5 documentation, <a href=https://p5js.org/es/learn/getting-started-in-webgl-coords-and-transform.html>https://p5js.org/es/learn/getting-started-in-webgl-coords-and-transform.html</a></p><h3 id=class>Class
<a class=anchor href=#class>#</a></h3><p><strong>Heads-up display</strong>, github course, <a href=https://visualcomputing.github.io/docs/space_transformations/heads_up_display/>https://visualcomputing.github.io/docs/space_transformations/heads_up_display/</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/VisualComputing2023-1/Showcase/commit/bfc1304b550f1a0cf3f0be94a1f6416435f80100 title='Last modified by Alice Phung | June 20, 2023' target=_blank rel=noopener><img src=/Showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 20, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#solar-system-implementation>Solar system implementation</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#theoretical-notions>Theoretical notions</a><ul><li><a href=#earths-movements>Earth&rsquo;s movements</a></li><li><a href=#moons-revolution-around-the-earth>Moon&rsquo;s revolution around the Earth</a></li></ul></li><li><a href=#implementation>Implementation</a><ul><li><a href=#application>Application</a></li><li><a href=#code>Code</a></li></ul></li><li><a href=#explication-of-the-solution>Explication of the solution</a><ul><li><a href=#declaration-of-attributes>Declaration of attributes</a></li><li><a href=#declaration-of-textures>Declaration of textures</a></li><li><a href=#sun-object>Sun Object</a></li><li><a href=#earth-object-and-trajectory>Earth object and trajectory</a></li><li><a href=#moon-object-and-trajectory>Moon object and trajectory</a></li><li><a href=#light-gestion>Light gestion</a></li><li><a href=#information-displaying>Information displaying</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#future-work>Future Work</a><ul><li><a href=#correction-of-physics-incoherences>Correction of physics incoherences</a></li><li><a href=#addition-of-functionalities>Addition of functionalities</a></li></ul></li><li><a href=#references>References</a><ul><li><a href=#earths-movement>Earth&rsquo;s movement</a></li><li><a href=#moons-movement>Moon&rsquo;s movement</a></li><li><a href=#p5-documentation>p5 Documentation</a></li><li><a href=#class>Class</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>